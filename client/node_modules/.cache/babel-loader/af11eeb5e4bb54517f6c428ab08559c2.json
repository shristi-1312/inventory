{"ast":null,"code":"import { GET_BOTTLES, ADD_BOTTLE, UPDATE_BOTTLE, DELETE_BOTTLE, BOTTLE_ERROR, CLEAR_FORM, CLEAR_BOTTLES, FILTER_BOTTLES, CLEAR_FILTER, OPEN_BOTTLE_FORM, CLOSE_BOTTLE_FORM, CHANGE_FORM_PROP, LOAD_CELLAR_STATS } from '../actions/types';\nconst initialState = {\n  bottles: null,\n  cellarStats: {\n    wineInCellar: 0,\n    winePending: 0,\n    wineConsumed: 0,\n    winePurchased: 0,\n    readyToDrink: 0,\n    totalValue: 0\n  },\n  filtered: null,\n  error: null,\n  bottleFormOpen: false,\n  bottleForm: {\n    _id: null,\n    product: '',\n    vintage: '',\n    producer: '',\n    region: '',\n    country: '',\n    varietal: '',\n    style: '',\n    sugar: '',\n    bubbles: '',\n    criticsScore: '',\n    quantity: 1,\n    currency: 'USD',\n    price: 0,\n    totalCost: 0,\n    size: '',\n    alcoholPct: '',\n    vendor: '',\n    location: '',\n    datePurchased: '',\n    dateReceived: '',\n    opened: false,\n    notes: ''\n  }\n};\n\nconst BottleReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_BOTTLES:\n      return { ...state,\n        bottles: action.payload\n      };\n\n    case ADD_BOTTLE:\n      return { ...state,\n        bottles: [action.payload, ...state.bottles]\n      };\n\n    case UPDATE_BOTTLE:\n      return { ...state,\n        bottles: state.bottles.map(bottle => bottle._id === action.payload._id ? action.payload : bottle)\n      };\n\n    case DELETE_BOTTLE:\n      return { ...state,\n        bottles: state.bottles.filter(bottle => bottle._id !== action.payload)\n      };\n\n    case CLEAR_FORM:\n      return { ...state,\n        bottleForm: {\n          product: '',\n          vintage: '',\n          producer: '',\n          region: '',\n          country: '',\n          varietal: '',\n          style: '',\n          sugar: '',\n          bubbles: '',\n          criticsScore: '',\n          quantity: 1,\n          currency: 'USD',\n          price: 0,\n          totalCost: 0,\n          size: '',\n          alcoholPct: '',\n          vendor: '',\n          location: '',\n          datePurchased: null,\n          dateReceived: null,\n          opened: false,\n          notes: ''\n        }\n      };\n\n    case CLEAR_BOTTLES:\n      return { ...state,\n        bottles: null\n      };\n\n    case FILTER_BOTTLES:\n      return { ...state,\n        filtered: state.bottles.filter(bottle => {\n          const regex = new RegExp(action.payload, 'gi');\n          return bottle.product.match(regex) || bottle.vintage.match(regex);\n        })\n      };\n\n    case CLEAR_FILTER:\n      return { ...state,\n        filtered: null\n      };\n\n    case BOTTLE_ERROR:\n      return { ...state,\n        error: action.payload\n      };\n\n    case OPEN_BOTTLE_FORM:\n      return { ...state,\n        bottleFormOpen: true\n      };\n\n    case CLOSE_BOTTLE_FORM:\n      return { ...state,\n        bottleFormOpen: false\n      };\n\n    case CHANGE_FORM_PROP:\n      return { ...state,\n        bottleForm: { ...state.bottleForm,\n          [action.payload.key]: action.payload.value\n        }\n      };\n\n    case LOAD_CELLAR_STATS:\n      return { ...state,\n        cellarStats: { ...state.cellarStats,\n          wineInCellar: action.payload._wineInCellar,\n          winePending: action.payload._winePending,\n          winePurchased: action.payload._winePurchased,\n          totalValue: action.payload._totalValue\n        }\n      };\n\n    default:\n      return state;\n  }\n};\n\n_c = BottleReducer;\nexport default BottleReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"BottleReducer\");","map":{"version":3,"sources":["C:/Users/SHRISTI/Downloads/terracotta-v1-main/terracotta-v1-main/client/src/reducers/BottleReducer.js"],"names":["GET_BOTTLES","ADD_BOTTLE","UPDATE_BOTTLE","DELETE_BOTTLE","BOTTLE_ERROR","CLEAR_FORM","CLEAR_BOTTLES","FILTER_BOTTLES","CLEAR_FILTER","OPEN_BOTTLE_FORM","CLOSE_BOTTLE_FORM","CHANGE_FORM_PROP","LOAD_CELLAR_STATS","initialState","bottles","cellarStats","wineInCellar","winePending","wineConsumed","winePurchased","readyToDrink","totalValue","filtered","error","bottleFormOpen","bottleForm","_id","product","vintage","producer","region","country","varietal","style","sugar","bubbles","criticsScore","quantity","currency","price","totalCost","size","alcoholPct","vendor","location","datePurchased","dateReceived","opened","notes","BottleReducer","state","action","type","payload","map","bottle","filter","regex","RegExp","match","key","value","_wineInCellar","_winePending","_winePurchased","_totalValue"],"mappings":"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","sourcesContent":["import {\n  GET_BOTTLES,\n  ADD_BOTTLE,\n  UPDATE_BOTTLE,\n  DELETE_BOTTLE,\n  BOTTLE_ERROR,\n  CLEAR_FORM,\n  CLEAR_BOTTLES,\n  FILTER_BOTTLES,\n  CLEAR_FILTER,\n  OPEN_BOTTLE_FORM,\n  CLOSE_BOTTLE_FORM,\n  CHANGE_FORM_PROP,\n  LOAD_CELLAR_STATS,\n} from '../actions/types';\n\nconst initialState = {\n  bottles: null,\n  cellarStats: {\n    wineInCellar: 0,\n    winePending: 0,\n    wineConsumed: 0,\n    winePurchased: 0,\n    readyToDrink: 0,\n    totalValue: 0,\n  },\n  filtered: null,\n  error: null,\n  bottleFormOpen: false,\n  bottleForm: {\n    _id: null,\n    product: '',\n    vintage: '',\n    producer: '',\n    region: '',\n    country: '',\n    varietal: '',\n    style: '',\n    sugar: '',\n    bubbles: '',\n    criticsScore: '',\n    quantity: 1,\n    currency: 'USD',\n    price: 0,\n    totalCost: 0,\n    size: '',\n    alcoholPct: '',\n    vendor: '',\n    location: '',\n    datePurchased: '',\n    dateReceived: '',\n    opened: false,\n    notes: '',\n  },\n};\n\nconst BottleReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_BOTTLES:\n      return {\n        ...state,\n        bottles: action.payload,\n      };\n    case ADD_BOTTLE:\n      return {\n        ...state,\n        bottles: [action.payload, ...state.bottles],\n      };\n    case UPDATE_BOTTLE:\n      return {\n        ...state,\n        bottles: state.bottles.map((bottle) =>\n          bottle._id === action.payload._id ? action.payload : bottle\n        ),\n      };\n    case DELETE_BOTTLE:\n      return {\n        ...state,\n        bottles: state.bottles.filter(\n          (bottle) => bottle._id !== action.payload\n        ),\n      };\n    case CLEAR_FORM:\n      return {\n        ...state,\n        bottleForm: {\n          product: '',\n          vintage: '',\n          producer: '',\n          region: '',\n          country: '',\n          varietal: '',\n          style: '',\n          sugar: '',\n          bubbles: '',\n          criticsScore: '',\n          quantity: 1,\n          currency: 'USD',\n          price: 0,\n          totalCost: 0,\n          size: '',\n          alcoholPct: '',\n          vendor: '',\n          location: '',\n          datePurchased: null,\n          dateReceived: null,\n          opened: false,\n          notes: '',\n        },\n      };\n    case CLEAR_BOTTLES:\n      return {\n        ...state,\n        bottles: null,\n      };\n    case FILTER_BOTTLES:\n      return {\n        ...state,\n        filtered: state.bottles.filter((bottle) => {\n          const regex = new RegExp(action.payload, 'gi');\n          return bottle.product.match(regex) || bottle.vintage.match(regex);\n        }),\n      };\n    case CLEAR_FILTER:\n      return {\n        ...state,\n        filtered: null,\n      };\n    case BOTTLE_ERROR:\n      return {\n        ...state,\n        error: action.payload,\n      };\n    case OPEN_BOTTLE_FORM:\n      return {\n        ...state,\n        bottleFormOpen: true,\n      };\n    case CLOSE_BOTTLE_FORM:\n      return {\n        ...state,\n        bottleFormOpen: false,\n      };\n    case CHANGE_FORM_PROP:\n      return {\n        ...state,\n        bottleForm: {\n          ...state.bottleForm,\n          [action.payload.key]: action.payload.value,\n        },\n      };\n    case LOAD_CELLAR_STATS:\n      return {\n        ...state,\n        cellarStats: {\n          ...state.cellarStats,\n          wineInCellar: action.payload._wineInCellar,\n          winePending: action.payload._winePending,\n          winePurchased: action.payload._winePurchased,\n          totalValue: action.payload._totalValue,\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default BottleReducer;\n"]},"metadata":{},"sourceType":"module"}